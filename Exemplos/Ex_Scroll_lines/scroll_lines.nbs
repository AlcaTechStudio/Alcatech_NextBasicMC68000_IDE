imports"\system\genesis_header.asm" ' Header de uma ROM de mega Drive Padrão 

std_init()
vdp_set_config(addressof(vdp_config_table)) ' Scroll Horizontal modo 8px Strips
load_tiles_DMA(addressof(tiles),168,1)
load_cram_DMA(addressof(paleta),16,0)


for y = 0 to 32
 for x=0 to 64
 draw_tile( peek(addressof(mapa) + (x<<1) + (y<<7) as word)+1, x , y , Plane_A)
 next 
next 

offset = 0

Do 'main
  for i=0 to 224
  Hscroll_line(peek(addressof(seno)+i+offset as byte),i,plane_A)
  next 
  offset+=1
  if offset>255 then offset=0
  update_Hscroll_table()
  wait_Vblank()
Loop ' Laço infinito



imports"\system\genesis_std.nbs" ' Biblioteca contendo funções standard do Mega Drives

'Mapa 64x32
mapa:
imports"\mapa.bin"

'168 Tiles
tiles:
imports"\tiles.bin"

paleta:
	DATAINT	&h0000,&h0000,&h00A0,&h0E22,&h0400,&h002C,&h0006,&h0EA2
	DATAINT	&h02CE,&h0046,&h0040,&h0C0C,&h0606,&h0666,&h0660,&h0CEE

'Tabela Gerada no Menu Ferramentas->VDP Config. Tool	
vdp_config_table:
    data &h04
    data &h74
    data &h30
    data &h40
    data &h07
    data &h78
    data &h00
    data &h00
    data &h00
    data &h00
    data &h1C
    data &h03
    data &h81
    data &h3F
    data &h00
    data &h02
    data &h01
    data &h00
    data &h00
    data &h00
seno:
	data 128,131,134,137,140,143,146,149,152,156,159,162,165,168,171,174
	data 176,179,182,185,188,191,193,196,199,201,204,206,209,211,213,216
	data 218,220,222,224,226,228,230,232,234,236,237,239,240,242,243,245
	data 246,247,248,249,250,251,252,252,253,254,254,255,255,255,255,255
	data 255,255,255,255,255,255,254,254,253,252,252,251,250,249,248,247
	data 246,245,243,242,240,239,237,236,234,232,230,228,226,224,222,220
	data 218,216,213,211,209,206,204,201,199,196,193,191,188,185,182,179
	data 176,174,171,168,165,162,159,156,152,149,146,143,140,137,134,131
	data 128,124,121,118,115,112,109,106,103,099,096,093,090,087,084,081
	data 079,076,073,070,067,064,062,059,056,054,051,049,046,044,042,039 
	data 037,035,033,031,029,027,025,023,021,019,018,016,015,013,012,010 
	data 009,008,007,006,005,004,003,003,002,001,001,000,000,000,000,000 
	data 000,000,000,000,000,000,001,001,002,003,003,004,005,006,007,008 
	data 009,010,012,013,015,016,018,019,021,023,025,027,029,031,033,035 
	data 037,039,042,044,046,049,051,054,056,059,062,064,067,070,073,076 
	data 079,081,084,087,090,093,096,099,103,106,109,112,115,118,121,124
	data 128,131,134,137,140,143,146,149,152,156,159,162,165,168,171,174
	data 176,179,182,185,188,191,193,196,199,201,204,206,209,211,213,216
	data 218,220,222,224,226,228,230,232,234,236,237,239,240,242,243,245
	data 246,247,248,249,250,251,252,252,253,254,254,255,255,255,255,255
	data 255,255,255,255,255,255,254,254,253,252,252,251,250,249,248,247
	data 246,245,243,242,240,239,237,236,234,232,230,228,226,224,222,220
	data 218,216,213,211,209,206,204,201,199,196,193,191,188,185,182,179
	data 176,174,171,168,165,162,159,156,152,149,146,143,140,137,134,131
	data 128,124,121,118,115,112,109,106,103,099,096,093,090,087,084,081
	data 079,076,073,070,067,064,062,059,056,054,051,049,046,044,042,039 
	data 037,035,033,031,029,027,025,023,021,019,018,016,015,013,012,010 
	data 009,008,007,006,005,004,003,003,002,001,001,000,000,000,000,000 
	data 000,000,000,000,000,000,001,001,002,003,003,004,005,006,007,008 
	data 009,010,012,013,015,016,018,019,021,023,025,027,029,031,033,035 
	data 037,039,042,044,046,049,051,054,056,059,062,064,067,070,073,076 
	data 079,081,084,087,090,093,096,099,103,106,109,112,115,118,121,124    
